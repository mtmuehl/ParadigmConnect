
const config = {
  networks: {
  }
};

if(process.env.test_keystore_password) {
  const WalletProvider = require("truffle-wallet-provider");
  const keystore = require('./keystore.json');
  const wallet = require('ethereumjs-wallet').fromV3(keystore, process.env.test_keystore_password);

  config.networks.ropsten = {
      network_id: 3,
      gas: 4600000,
      gasPrice: 4000000000,
      provider: new WalletProvider(wallet, "https://ropsten.infura.io")
  };

  config.networks.kovan = {
    network_id: 42,
    gas: 4600000,
    gasPrice: 4000000000,
    provider: new WalletProvider(wallet, "https://kovan.infura.io")
  };
}

module.exports = config;
